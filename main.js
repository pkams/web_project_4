!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.d({},{g1:function(){return j},pf:function(){return I},oB:function(){return g},MH:function(){return S}});var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popup=document.querySelector(t)}var n,r;return n=e,(r=[{key:"open",value:function(){this.popup.classList.add("popup_opened")}},{key:"close",value:function(){this.popup.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(){document.addEventListener("keydown",function(e){"Escape"===e.key&&this.close(this.popup)}.bind(this))}},{key:"setEventListeners",value:function(){var e=this;j.forEach((function(t){t.addEventListener("click",(function(){e.close(t.parentElement)}))})),this._handleEscClose(),this.popup.querySelector(".popup__close").addEventListener("click",(function(){e.close()}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(s,e);var t,n,r,c,l=(r=s,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(r);if(c){var n=a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).popup=document.querySelector(e),t}return t=s,(n=[{key:"open",value:function(e,t){var n=this.popup.querySelector(".popup__image"),r=this.popup.querySelector(".popup__image-name");n.src=t,r.textContent=e,this.popup.classList.add("popup_opened")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(n);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.link=n,this._cardSelector=r,this.index=o,this.popupElement=new c(".popup_view-image")}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_buildCardElement",value:function(){return this.cardElement.querySelector(".card__text-title").textContent=this.name,this.cardElement.querySelector(".card__image").src=this.link,this.cardElement}},{key:"_likeCardButton",value:function(){this.classList.toggle("card__like-button_clicked")}},{key:"_deleteCardButton",value:function(){g.splice(this.index,1),I.renderItems()}},{key:"_openImage",value:function(){this.popupElement.open(this.name,this.link)}},{key:"_setEventListener",value:function(){var e=this;this.popupElement.setEventListeners();var t=this.cardElement.querySelector(".card__trash-button"),n=this.cardElement.querySelector(".card__like-button"),r=this.cardElement.querySelector(".card__image"),o=this.popupElement.popup.querySelector(".popup__close_view-image");t.addEventListener("click",this._deleteCardButton.bind(this)),n.addEventListener("click",this._likeCardButton),r.addEventListener("click",this._openImage.bind(this)),o.addEventListener("click",(function(){e.popupElement.close()}))}},{key:"generateCard",value:function(){return this.cardElement=this._getTemplate(),this.cardElement=this._buildCardElement(),this._setEventListener(),this.cardElement}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"_clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this._clear(),this._items.slice(0,6).forEach((function(t,n){var r=e._renderer(t,n);e._container.append(r)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formValidatorConfigObj=t,this.formElement=n}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t,n,r){var o=t.querySelector(".".concat(n.id,"-error"));n.classList.add(e.inputErrorClass),o.textContent=r,o.classList.add(e.errorClass)}},{key:"_hideInputError",value:function(e,t,n){var r=t.querySelector(".".concat(n.id,"-error"));n.classList.remove(e.inputErrorClass),r.classList.remove(e.errorClass),r.textContent=""}},{key:"_checkInputValidity",value:function(e,t,n){n.validity.valid?this._hideInputError(e,t,n):this._showInputError(e,t,n,n.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleSubmitButtonState",value:function(e,t,n){this._hasInvalidInput(t)?n.classList.add(e.inactiveButtonClass):n.classList.remove(e.inactiveButtonClass)}},{key:"_setEventListeners",value:function(e,t){var n=this,r=Array.from(t.querySelectorAll(e.inputSelector)),o=t.querySelector(e.submitButtonSelector);r.forEach((function(i){i.addEventListener("input",(function(){n._checkInputValidity(e,t,i),n._toggleSubmitButtonState(e,r,o)}))}))}},{key:"enableValidation",value:function(){this.formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners(this.formValidatorConfigObj,this.formElement)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).popup=document.querySelector(e),t}return t=u,(n=[{key:"_getInputValues",value:function(){return this.popup.querySelectorAll(".popup__form-input")}},{key:"setEventListeners",value:function(){var e=this;j.forEach((function(t){t.addEventListener("click",(function(){e.close(t.parentElement)}))})),this._handleEscClose(),this.popup.querySelector(".popup__close").addEventListener("click",(function(){e.close()})),this.popup.addEventListener("submit",(function(e){e.preventDefault()})),new y(S,this.popup).enableValidation()}},{key:"close",value:function(){var e=this._getInputValues();e[0].value="",e[1].value="",this.popup.classList.remove("popup_opened")}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n);function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n=t.nameSelector,r=t.jobSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._job=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name,job:this._job}}},{key:"setUserInfo",value:function(e,t){this._name.value=e.value,this._job.value=t.value}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=[{name:"Vale de Yosemite",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lago Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Montanhas Carecas",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Parque Nacional da Vanoise ",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],S={formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_inactive",inputErrorClass:"popup__form-input_type_error",errorClass:"popup__form-input_error_active"},j=document.querySelectorAll(".popup__background"),O=document.querySelector(".profile__edit-button"),L=document.querySelector(".profile__add-button"),C=document.querySelector(".popup__save-button"),q=document.querySelector(".popup__add-card-save-button"),P=new w({nameSelector:".profile__name",jobSelector:".profile__job"}),I=new f({items:g,renderer:function(e,t){return new s(e.name,e.link,"#card-template",t).generateCard()}},".elements"),x=new E(".popup"),T=new E(".popup_add-card");x.setEventListeners(),T.setEventListeners(),O.addEventListener("click",(function(e){e.preventDefault(),x.open();var t=P.getUserInfo(),n=document.querySelector("#name"),r=document.querySelector("#job");n.value=t.name.innerText,r.value=t.job.innerText})),L.addEventListener("click",(function(e){e.preventDefault(),T.open()})),C.addEventListener("click",(function(e){e.preventDefault();var t=P.getUserInfo(),n=x._getInputValues();t.name.innerText=n[0].value,t.job.innerText=n[1].value})),q.addEventListener("click",(function(e){e.preventDefault();var t=T._getInputValues();g.unshift({name:t[0].value,link:t[1].value}),t[0].value="",t[1].value="",I.renderItems(),T.setEventListeners()})),I.renderItems()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQVFFLFNBQzlCLElBdUNEVixFQUFVcEcsaUJBQWlCLFNBckMzQixTQUF5QjJHLEdBQ3JCQSxFQUFNekIsaUJBRU53QixFQUFhNUUsTUFDaEIsSUFrQ0R1RSxFQUFhckcsaUJBQWlCLFNBZDlCLFNBQWtDMkcsR0FDOUJBLEVBQU16QixpQkFHTixJQUFNMEIsRUFBVUwsRUFBU00sY0FHbkJFLEVBQWFOLEVBQWlCakIsa0JBQ3BDb0IsRUFBTyxLQUFTRSxVQUFZQyxFQUFXLEdBQUd0QixNQUMxQ21CLEVBQU8sSUFBUUUsVUFBWUMsRUFBVyxHQUFHdEIsS0FDNUMsSUFLRGEsRUFBY3RHLGlCQUFpQixTQWpDL0IsU0FBNkIyRyxHQUN6QkEsRUFBTXpCLGlCQUdOLElBQU02QixFQUFhTCxFQUFhbEIsa0JBR2hDOUQsRUFBYXNGLFFBQVEsQ0FDckJ0RyxLQUFNcUcsRUFBVyxHQUFHdEIsTUFDcEI5RSxLQUFNb0csRUFBVyxHQUFHdEIsUUFFcEJzQixFQUFXLEdBQUd0QixNQUFRLEdBQ3RCc0IsRUFBVyxHQUFHdEIsTUFBUSxHQUV0QjdELEVBQVVDLGNBQ1Y2RSxFQUFhM0UsbUJBQ2hCLElBbUJESCxFQUFVQyxhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiaW1wb3J0IHsgYmFja2dyb3VuZExpc3QgfSBmcm9tIFwiLi4vaW5kZXhcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwe1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgb3Blbigpe1xyXG4gICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZSgpe1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gZXNjSGFuZGxlcihldnQpIHtcclxuICAgICAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UodGhpcy5wb3B1cCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgYmFja2dyb3VuZExpc3QuZm9yRWFjaCgoYmFja2dyb3VuZCkgPT4ge1xyXG4gICAgICAgIGJhY2tncm91bmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHt0aGlzLmNsb3NlKGJhY2tncm91bmQucGFyZW50RWxlbWVudCk7fSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKCk7XHJcbiAgICBjb25zdCBleGl0QnV0dG9uID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XHJcbiAgICBleGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuY2xvc2UoKX0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihuYW1lLCBsaW5rKXtcclxuICAgICAgICBjb25zdCBwb3B1cEltYWdlID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICAgICAgY29uc3QgcG9wdXBJbWFnZU5hbWUgPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtbmFtZScpO1xyXG4gICAgICAgIHBvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICBwb3B1cEltYWdlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuLi9pbmRleFwiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgY2FyZHNMaXN0IH0gZnJvbSBcIi4uL2luZGV4XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJke1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgbGluaywgY2FyZFNlbGVjdG9yLCBpbmRleCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5saW5rID0gbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50ID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdmlldy1pbWFnZScpXHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgICAuY29udGVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIF9idWlsZENhcmRFbGVtZW50KCkge1xyXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZXh0LXRpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xyXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLmxpbms7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgX2xpa2VDYXJkQnV0dG9uKCl7XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19saWtlLWJ1dHRvbl9jbGlja2VkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2RlbGV0ZUNhcmRCdXR0b24oKXtcclxuICAgICAgICAvLyBEZWxldGUgdGhlIGkgZWxlbWVudCBvZiB0aGUgYXJyYXlcclxuICAgICAgICBpbml0aWFsQ2FyZHMuc3BsaWNlKHRoaXMuaW5kZXgsIDEpO1xyXG4gICAgICAgIGNhcmRzTGlzdC5yZW5kZXJJdGVtcygpXHJcbiAgICB9XHJcblxyXG4gICAgX29wZW5JbWFnZSgpe1xyXG4gICAgICAgIHRoaXMucG9wdXBFbGVtZW50Lm9wZW4odGhpcy5uYW1lLCB0aGlzLmxpbmspXHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXIoKXtcclxuICAgICAgICB0aGlzLnBvcHVwRWxlbWVudC5zZXRFdmVudExpc3RlbmVycygpXHJcbiAgICAgICAgY29uc3QgdHJhc2hCdXR0b24gPSB0aGlzLmNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190cmFzaC1idXR0b24nKTtcclxuICAgICAgICBjb25zdCBsaWtlQnV0dG9uID0gdGhpcy5jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKTtcclxuICAgICAgICBjb25zdCBjYXJkQnV0dG9uID0gdGhpcy5jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKTtcclxuICAgICAgICBjb25zdCBleGl0QnV0dG9uID0gdGhpcy5wb3B1cEVsZW1lbnQucG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZV92aWV3LWltYWdlJylcclxuICAgICAgICB0cmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2RlbGV0ZUNhcmRCdXR0b24uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2xpa2VDYXJkQnV0dG9uKTtcclxuICAgICAgICBjYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb3BlbkltYWdlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGV4aXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7dGhpcy5wb3B1cEVsZW1lbnQuY2xvc2UoKX0pXHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVDYXJkKCl7XHJcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudCA9IHRoaXMuX2J1aWxkQ2FyZEVsZW1lbnQoKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQ7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9ue1xyXG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2xhc3NTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xhc3NTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgX2NsZWFyKCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySXRlbXMoKXtcclxuICAgICAgICB0aGlzLl9jbGVhcigpO1xyXG5cclxuICAgICAgICB0aGlzLl9pdGVtcy5zbGljZSgwLCA2KS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0sIGluZGV4KTtcclxuICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudClcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFkZEl0ZW0oZWxlbWVudCl7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9ye1xyXG4gICAgY29uc3RydWN0b3IoZm9ybVZhbGlkYXRvckNvbmZpZ09iaiwgZm9ybUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmZvcm1WYWxpZGF0b3JDb25maWdPYmogPSBmb3JtVmFsaWRhdG9yQ29uZmlnT2JqO1xyXG4gICAgICAgIHRoaXMuZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoZm9ybV9vYmosIGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSl7XHJcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoZm9ybV9vYmouaW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChmb3JtX29iai5lcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoZm9ybV9vYmosIGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpe1xyXG4gICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGZvcm1fb2JqLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGZvcm1fb2JqLmVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoZm9ybV9vYmosIGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpe1xyXG4gICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGZvcm1fb2JqLCBmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm1fb2JqLCBmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KXtcclxuICAgICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKGZvcm1fb2JqLCBpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpe1xyXG4gICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoZm9ybV9vYmouaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGZvcm1fb2JqLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKGZvcm1fb2JqLCBmb3JtRWxlbWVudCl7XHJcbiAgICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChmb3JtX29iai5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGZvcm1fb2JqLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1fb2JqLCBmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlKGZvcm1fb2JqLCBpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKHRoaXMuZm9ybVZhbGlkYXRvckNvbmZpZ09iaiwgdGhpcy5mb3JtRWxlbWVudCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBiYWNrZ3JvdW5kTGlzdCwgdmFsaWRhdGVTZWxlY3RvcnMgfSBmcm9tIFwiLi4vaW5kZXhcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCl7XHJcbiAgICAgICAgY29uc3QgZm9ybUVsZW1lbnQgPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fZm9ybS1pbnB1dCcpXHJcbiAgICAgICAgcmV0dXJuIGZvcm1FbGVtZW50XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICBiYWNrZ3JvdW5kTGlzdC5mb3JFYWNoKChiYWNrZ3JvdW5kKSA9PiB7XHJcbiAgICAgICAgYmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge3RoaXMuY2xvc2UoYmFja2dyb3VuZC5wYXJlbnRFbGVtZW50KTt9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSgpO1xyXG4gICAgICAgIGNvbnN0IGV4aXRCdXR0b24gPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcclxuICAgICAgICBleGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuY2xvc2UoKX0pXHJcblxyXG4gICAgICAgIHRoaXMucG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBmb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRlU2VsZWN0b3JzLCB0aGlzLnBvcHVwKTtcclxuICAgICAgICBmb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICBjb25zdCBmb3JtRWxlbWVudHMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpXHJcbiAgICAgICAgZm9ybUVsZW1lbnRzWzBdLnZhbHVlID0gJyc7XHJcbiAgICAgICAgZm9ybUVsZW1lbnRzWzFdLnZhbHVlID0gJyc7XHJcbiAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZve1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yIH0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3RvcilcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpe1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIGNvbnN0IGpvYiA9IHRoaXMuX2pvYjtcclxuICAgICAgICByZXR1cm4geyBuYW1lLCBqb2IgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKG5ld05hbWUsIG5ld0pvYil7XHJcbiAgICAgICAgdGhpcy5fbmFtZS52YWx1ZSA9IG5ld05hbWUudmFsdWU7XHJcbiAgICAgICAgdGhpcy5fam9iLnZhbHVlID0gbmV3Sm9iLnZhbHVlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFwiLi9wYWdlL2luZGV4LmNzc1wiOyAvL2ltcG9ydGluZyBjc3MgdHJvdWdoIHdlYnBhY2tcclxuXHJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIlxyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWxlIGRlIFlvc2VtaXRlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vbnRhbmhhcyBDYXJlY2FzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2JhbGQtbW91bnRhaW5zLmpwZ1wiXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGEgVmFub2lzZSBcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWdvLmpwZ1wiXHJcbiAgfVxyXG5dO1xyXG5leHBvcnQgY29uc3QgdmFsaWRhdGVTZWxlY3RvcnMgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtLWlucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlLWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3NhdmUtYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19mb3JtLWlucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19mb3JtLWlucHV0X2Vycm9yX2FjdGl2ZVwiXHJcbn07XHJcbmV4cG9ydCBjb25zdCBiYWNrZ3JvdW5kTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2JhY2tncm91bmRcIik7XHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlLWJ1dHRvbicpO1xyXG5jb25zdCBzdWJtaXRBZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19hZGQtY2FyZC1zYXZlLWJ1dHRvbicpO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe25hbWVTZWxlY3RvcjonLnByb2ZpbGVfX25hbWUnLCBqb2JTZWxlY3RvcjpcIi5wcm9maWxlX19qb2JcIn0pXHJcblxyXG5leHBvcnQgY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgIHJlbmRlcmVyOiAoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKGVsZW1lbnQubmFtZSwgZWxlbWVudC5saW5rLCAnI2NhcmQtdGVtcGxhdGUnLCBpbmRleCkuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50XHJcbiAgICB9fSxcclxuICAgICcuZWxlbWVudHMnXHJcbik7XHJcblxyXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cCcpXHJcbmNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYWRkLWNhcmQnKTtcclxucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpXHJcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG5mdW5jdGlvbiBvcGVuRWRpdGlvbkZvcm0oZXZlbnQpe1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xyXG4gICAgY29uc3QgdXNlck9iaiA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKClcclxuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpXHJcbiAgICBjb25zdCBqb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjam9iJylcclxuICAgIG5hbWUudmFsdWUgPSB1c2VyT2JqWyduYW1lJ10uaW5uZXJUZXh0O1xyXG4gICAgam9iLnZhbHVlID0gdXNlck9ialsnam9iJ10uaW5uZXJUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuQWRkQ2FyZEZvcm0oZXZlbnQpe1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0ZVNlbGVjdG9ycyk7XHJcbiAgICBwb3B1cEFkZENhcmQub3BlbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdWJtaXRCdXR0b25BZGRDYXJkKGV2ZW50KXtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgLy8gR2V0IGZvcm1zIGFuZCBwcm9maWxlIHZhcmlhYmxlc1xyXG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHBvcHVwQWRkQ2FyZC5fZ2V0SW5wdXRWYWx1ZXMoKVxyXG5cclxuICAgIC8vIFN3aXRjaCBhY3R1YWwgcHJvZmlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIG5ldyBpbmZvcm1hdGlvblxyXG4gICAgaW5pdGlhbENhcmRzLnVuc2hpZnQoe1xyXG4gICAgbmFtZTogZm9ybVZhbHVlc1swXS52YWx1ZSxcclxuICAgIGxpbms6IGZvcm1WYWx1ZXNbMV0udmFsdWVcclxuICAgIH0pO1xyXG4gICAgZm9ybVZhbHVlc1swXS52YWx1ZSA9ICcnO1xyXG4gICAgZm9ybVZhbHVlc1sxXS52YWx1ZSA9ICcnO1xyXG5cclxuICAgIGNhcmRzTGlzdC5yZW5kZXJJdGVtcygpXHJcbiAgICBwb3B1cEFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVQcm9maWxlSW5mb3JtYXRpb24oZXZlbnQpe1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAvLyBHZXQgZm9ybXMgYW5kIHByb2ZpbGUgdmFyaWFibGVzXHJcbiAgICBjb25zdCB1c2VyT2JqID0gdXNlckluZm8uZ2V0VXNlckluZm8oKVxyXG5cclxuICAgIC8vIFN3aXRjaCBhY3R1YWwgcHJvZmlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIG5ldyBpbmZvcm1hdGlvblxyXG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHBvcHVwRWRpdFByb2ZpbGUuX2dldElucHV0VmFsdWVzKClcclxuICAgIHVzZXJPYmpbJ25hbWUnXS5pbm5lclRleHQgPSBmb3JtVmFsdWVzWzBdLnZhbHVlO1xyXG4gICAgdXNlck9ialsnam9iJ10uaW5uZXJUZXh0ID0gZm9ybVZhbHVlc1sxXS52YWx1ZTtcclxufVxyXG5cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5FZGl0aW9uRm9ybSk7XHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRDYXJkRm9ybSk7XHJcbnN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVwZGF0ZVByb2ZpbGVJbmZvcm1hdGlvbik7XHJcbnN1Ym1pdEFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdWJtaXRCdXR0b25BZGRDYXJkKTtcclxuXHJcbmNhcmRzTGlzdC5yZW5kZXJJdGVtcygpXHJcblxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJ0aGlzIiwicG9wdXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2UiLCJiaW5kIiwiYmFja2dyb3VuZExpc3QiLCJmb3JFYWNoIiwiYmFja2dyb3VuZCIsInBhcmVudEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJwb3B1cFdpdGhJbWFnZSIsIm5hbWUiLCJsaW5rIiwicG9wdXBJbWFnZSIsInBvcHVwSW1hZ2VOYW1lIiwic3JjIiwidGV4dENvbnRlbnQiLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaW5kZXgiLCJfY2FyZFNlbGVjdG9yIiwicG9wdXBFbGVtZW50IiwiUG9wdXBXaXRoSW1hZ2UiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEVsZW1lbnQiLCJ0b2dnbGUiLCJpbml0aWFsQ2FyZHMiLCJzcGxpY2UiLCJjYXJkc0xpc3QiLCJyZW5kZXJJdGVtcyIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsInRyYXNoQnV0dG9uIiwibGlrZUJ1dHRvbiIsImNhcmRCdXR0b24iLCJleGl0QnV0dG9uIiwiX2RlbGV0ZUNhcmRCdXR0b24iLCJfbGlrZUNhcmRCdXR0b24iLCJfb3BlbkltYWdlIiwiX2dldFRlbXBsYXRlIiwiX2J1aWxkQ2FyZEVsZW1lbnQiLCJfc2V0RXZlbnRMaXN0ZW5lciIsIlNlY3Rpb24iLCJjbGFzc1NlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpbm5lckhUTUwiLCJfY2xlYXIiLCJzbGljZSIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwiRm9ybVZhbGlkYXRvciIsImZvcm1WYWxpZGF0b3JDb25maWdPYmoiLCJmb3JtRWxlbWVudCIsImZvcm1fb2JqIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0Iiwic29tZSIsImJ1dHRvbkVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlIiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwidmFsaWRhdGVTZWxlY3RvcnMiLCJlbmFibGVWYWxpZGF0aW9uIiwiZm9ybUVsZW1lbnRzIiwiX2dldElucHV0VmFsdWVzIiwidmFsdWUiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiX25hbWUiLCJfam9iIiwiam9iIiwibmV3TmFtZSIsIm5ld0pvYiIsImZvcm1TZWxlY3RvciIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJzdWJtaXRCdXR0b24iLCJzdWJtaXRBZGRDYXJkIiwidXNlckluZm8iLCJnZW5lcmF0ZUNhcmQiLCJwb3B1cEVkaXRQcm9maWxlIiwicG9wdXBBZGRDYXJkIiwiZXZlbnQiLCJ1c2VyT2JqIiwiZ2V0VXNlckluZm8iLCJpbm5lclRleHQiLCJmb3JtVmFsdWVzIiwidW5zaGlmdCJdLCJzb3VyY2VSb290IjoiIn0=